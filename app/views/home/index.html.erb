<div class="container">
  <div class="row form-group">
    <div class="col-sm-12">
      <div class="input-group">
        <div class="input-group-addon">
          <%= fa_icon :'github-alt' %>
        </div>
        <%= text_field_tag :username, params[:username], id: :github_username, class: 'form-control input-lg', placeholder: 'Usuário do github' %>
        <div class="input-group-btn">
          <button id="button_search" class="btn btn-lg btn-default" type="submit">
            <%= fa_icon :search %>
          </button>
        </div>
      </div>
    </div>
  </div>

  <% if @user.present? %>
    <div class="row">
      <div class="col-sm-4">
        <%= select_tag :type, options_for_select(GithubType.to_a, params[:type]), { id: :github_type, class: 'form-control' } %>
      </div>

      <div class="col-sm-4">
        <%= select_tag :sort, options_for_select(GithubSort.to_a, params[:sort]), { id: :github_sort, class: 'form-control' } %>
      </div>

      <div class="col-sm-4">
        <%= select_tag :direction, options_for_select(GithubDirection.to_a, params[:direction]), { id: :github_direction, class: 'form-control' } %>
      </div>
    </div>

    <hr />

    <div class="row">
      <div class="col-sm-3">
        <img class="img-rounded img-responsive" src="<%= @user.avatar_url %>" />

        <h4>
          <div><%= @user.name %></div>
          <small>@<%= @user.login %></small>
        </h4>

        <hr />

        <p class="company">
          <%= fa_icon :users %> <%= @user.company %>
        </p>
        <p class="country">
          <%= fa_icon :'map-marker' %> <%= @user.location %>
        </p>
        <p class="email">
          <%= fa_icon :'envelope-o' %>
          <%= link_to @user.email, "mailto:#{@user.email}" %>
        </p>
        <p class="created">
          <%= fa_icon :'clock-o' %>
          Joined: <%= @user.created_at %>
        </p>
      </div>

      <div class="col-sm-9">
        <div id="repositories">
          <% if @repositories.any? %>
          <% @repositories.each do |repository| %>
            <div class="repository">
              <h4>
                <%= repository.name %>
                <small>@<%= repository.owner.login %></small>
                <small class="pull-right">
                  <%= repository.language %> <%= fa_icon :star %> <%= repository.stargazers_count %>
                </small>
              </h4>
              <p><%= repository.description %></p>
              Updated: <%= repository.updated_at %>
              <hr />
            </div>
          <% end %>
          <% end %>
        </div>
      </div>
    </div>
  <% else %>
  <div class="alert alert-info">
    Usuário não encontrado
  </div>
  <% end %>
</div>
